/*
 Copyright 2011, Cardinal Path and Direct Performance.

 GAS - Google Analytics on Steroids
 https://bitbucket.org/dpc/gas

 @author Eduardo Cereto <eduardocereto@gmail.com>
 $Revision$
 $Date$
 Licensed under the MIT license.
*/
(function(c,l){function o(){this.tracker=c._gat._getTrackers()[0]}function h(){var a=this;a.a={};a.d=0;a.f=m;a.c="_gas1";a.e={};a.b={_addHook:[a.g]};a.push(function(){a.e=new o})}function i(a){if(_gas.i)try{console.log(a)}catch(b){}return c._gaq.push(a)}c._gaq=c._gaq||[];var m=c._gas||[];if(!(m.d>=0)){var k=c.document,p=Object.prototype.hasOwnProperty,j=Array.prototype.slice,n=String.prototype.indexOf,q=k.location.href;h.prototype.g=function(a,b){typeof a==="string"&&typeof b==="function"&&(typeof _gas.b[a]===
"undefined"&&(_gas.b[a]=[]),_gas.b[a].push(b));return!1};h.prototype.h=function(){var a=j.call(arguments),b=a.shift(),a=!0,f,e,c,d,g;if(typeof b==="function")return i(function(a,b){return function(){a.call(b)}}(b,this.e));else if(typeof b==="object"&&b.length>0){e=b.shift();n.call(e,".")>=0?(d=e.split(".")[0],e=e.split(".")[1]):d=l;if((c=this.b[e])&&c.length>0)for(f=0;f<c.length;f++)try{g=c[f].apply(this.e,b),g===!1?a=!1:g&&g.length>0&&(b=g)}catch(h){e!=="_trackException"&&this.push(["_trackException",
h])}if(a===!1)return 1;if(e==="_setAccount"){for(f in this.a)if(this.a[f]==b[0]&&d===l)return 1;d=d||"_gas"+String(this.d+1);typeof this.a._gas1=="undefined"&&n.call(d,"_gas")!=-1&&(d="_gas1");this.a[d]=b[0];this.d+=1;d=d===_gas.c?"":d+".";return i([d+e,b[0]])}if(e==="_link"||e==="_linkByPost")return a=j.call(b),a.unshift(e),i(a);if(d&&this.a[d])return g=(d===_gas.c?"":d+".")+e,a=j.call(b),a.unshift(g),i(a);c=0;for(f in this.a)p.call(this.a,f)&&(g=(f===_gas.c?"":f+".")+e,a=j.call(b),a.unshift(g),
c+=i(a));return c?1:0}};h.prototype.push=function(){for(var a=j.call(arguments),b=0;b<a.length;b++)(function(a,b){c._gaq.push(function(){b.h.call(b,a)})})(a[b],this)};c._gas=_gas=new h;_gas.push(["_addHook","_trackException",function(a,b){_gas.push(["_trackEvent","Exception "+(a.name||"Error"),b||a.message||a,q]);return!1}]);_gas.push(["_addHook","_setDebug",function(a){_gas.i=!!a}]);_gas.push(["_addHook","_popHook",function(a){(a=_gas.b[a])&&a.pop&&a.pop();return!1}]);for(_gas.push(["_addHook","_setDefaultTracker",
function(a){_gas.c=a}]);_gas.f.length>0;)_gas.push(_gas.f.shift());_gaq&&_gaq.length>=0&&function(){var a=k.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"==k.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=k.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}()}})(window);
