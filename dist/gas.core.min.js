/*
 Copyright 2011, Cardinal Path and Direct Performance.

 GAS - Google Analytics on Steroids
 https://bitbucket.org/dpc/gas

 @author Eduardo Cereto <eduardocereto@gmail.com>
 $Revision$
 $Date$
 Licensed under the MIT license.
*/
(function(e,l){function m(){this.g()}function g(){var a=this;a.a={};a.e=0;a.f=n;a.c="_gas1";a.d={};a.b={_addHook:[a.h]};a.push(function(){a.d=new m})}function j(a){if(_gas.j)try{console.log(a)}catch(b){}return e._gaq.push(a)}m.prototype.g=function(){if(!this.tracker){var a=e._gat._getTrackers();a.length>0&&(this.tracker=a[0])}};e._gaq=e._gaq||[];var n=e._gas||[];if(!(n.e>=0)){var i=e.document,p=Object.prototype.hasOwnProperty,k=Array.prototype.slice,o=String.prototype.indexOf,q=i.location.href;g.prototype.h=
function(a,b){typeof a==="string"&&typeof b==="function"&&(typeof _gas.b[a]==="undefined"&&(_gas.b[a]=[]),_gas.b[a].push(b));return!1};g.prototype.i=function(){var a=k.call(arguments),b=a.shift(),a=!0,f,d,e,c,h,g=0;if(typeof b==="function")return j(function(a,b){return function(){a.call(b)}}(b,this.d));else if(typeof b==="object"&&b.length>0){d=b.shift();o.call(d,".")>=0?(c=d.split(".")[0],d=d.split(".")[1]):c=l;if((e=this.b[d])&&e.length>0)for(f=0;f<e.length;f++)try{h=e[f].apply(this.d,b),h===!1?
a=!1:h&&h.length>0&&(b=h)}catch(i){d!=="_trackException"&&this.push(["_trackException",i])}if(a===!1)return 1;if(d==="_setAccount"){for(f in this.a)if(this.a[f]==b[0]&&c===l)return 1;c=c||"_gas"+String(this.e+1);typeof this.a._gas1=="undefined"&&o.call(c,"_gas")!=-1&&(c="_gas1");this.a[c]=b[0];this.e+=1;c=c===_gas.c?"":c+".";g=j([c+d,b[0]]);this.d.g();return g}if(d==="_link"||d==="_linkByPost")return a=k.call(b),a.unshift(d),j(a);if(c&&this.a[c])return h=(c===_gas.c?"":c+".")+d,a=k.call(b),a.unshift(h),
j(a);for(f in this.a)p.call(this.a,f)&&(h=(f===_gas.c?"":f+".")+d,a=k.call(b),a.unshift(h),g+=j(a));return g?1:0}};g.prototype.push=function(){for(var a=k.call(arguments),b=0;b<a.length;b++)(function(a,b){e._gaq.push(function(){b.i.call(b,a)})})(a[b],this)};e._gas=_gas=new g;_gas.push(["_addHook","_trackException",function(a,b){_gas.push(["_trackEvent","Exception "+(a.name||"Error"),b||a.message||a,q]);return!1}]);_gas.push(["_addHook","_setDebug",function(a){_gas.j=!!a}]);_gas.push(["_addHook","_popHook",
function(a){(a=_gas.b[a])&&a.pop&&a.pop();return!1}]);for(_gas.push(["_addHook","_setDefaultTracker",function(a){_gas.c=a}]);_gas.f.length>0;)_gas.push(_gas.f.shift());_gaq&&_gaq.length>=0&&function(){var a=i.createElement("script");a.type="text/javascript";a.async=!0;a.src=("https:"==i.location.protocol?"https://ssl":"http://www")+".google-analytics.com/ga.js";var b=i.getElementsByTagName("script")[0];b.parentNode.insertBefore(a,b)}()}})(window);
